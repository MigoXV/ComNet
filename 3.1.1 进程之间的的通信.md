# 3.1.1 进程之间的的通信

从通信和信息处理的角度看, 运 输层向它上面的应用层提供端到 端的 “逻辑通信" 服务, 它属于 面向通信部分的最高层。
当网络的边缘部分中的两个主机 使用网络的核心部分的功能进行 端到端的通信时, 只有位于网络 边缘部分的主机的协议栈才有运 输层, 而网络核心部分中的路由 器在转发用户数据分组时都只用 到下三层的功能。

## 运输层的作用

![image-20221019082955503](https://mypic-1312707183.cos.ap-nanjing.myqcloud.com/image-20221019082955503.png)

- “逻辑通信" 的意思是 “好像是这样通信, 但 事实上并非真的这样通信”。
- 从网络层来看，通信的两端是两台主机。严格地讲, 两台主机进行通信就是为了两台主机中 运行的应用进程能够互相通信。
- 从运输层的角度看, 通信的真正端点并不是主 机, 而是主机中运行的应用进程。也就是说,"端到端的通信" 是应用进程之间的通信。

## 网络层和运输层的区别

网络层是为主机之间提供逻辑通信,
而运输层为应用进程之间提供端到端的逻辑通信。

![image-20221019083117634](https://mypic-1312707183.cos.ap-nanjing.myqcloud.com/image-20221019083117634.png)

## 运输层的屏蔽作用

运输层向高层用户屏蔽了下面网络核心的细节 （如网络拓扑、所采用的路由选择协议等）, 它使应用进程看到的就是好像在两个运输层实 体之间有一条端到端的逻辑通信信道。

## 运输层的作用

实现应用进程数据流的多路复用与分解
■ 在一台主机中经常有多个应用进程同时分别和另一 台主机中的多个应用进程通信。
■ 运输层需要具备一个很重要的功能一一多路复用 (multiplexing)和分离 (demultiplexing)。
提供不同类型的数据传输服务
■ 根据应用程序的不同需求, 运输层需要设计不同的 运输协议, 目前常用的协议有两种, 即面向连接的 可靠传输的TCP 和无连接的不可靠传输的 UDP。

## 基于端口的多路复用和分解功能

![image-20221019084022607](https://mypic-1312707183.cos.ap-nanjing.myqcloud.com/image-20221019084022607.png)

## 两种不同的运输协议

当运输层采用面向连接的 TCP 协议时, 尽管下 面的网络是不可靠的（只提供尽最大努力服
务），但这种逻辑通信信道就相当于一条全双 工的可靠信道。
当运输层采用无连接的 UDP 协议时, 这种逻辑 通信信道是一条不可靠信道。

### 可靠信道与不可靠信道

![image-20221019084134807](https://mypic-1312707183.cos.ap-nanjing.myqcloud.com/image-20221019084134807.png)